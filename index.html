<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Simple AR with Three.js and WebXR</title>
        <style>
            body {
                margin: 0;
            }
            canvas {
                display: block;
            }
        </style>
    </head>
    <body>
        <script type="module" crossorigin="anonymous" src="https://threejs.org/build/three.module.js"></script>
        <script type="module" crossorigin="anonymous" src="https://threejs.org/examples/jsm/webxr/ARButton.js"></script>
        <script type="module" crossorigin="anonymous">
            import * as THREE from "https://threejs.org/build/three.module.js";
            import { ARButton } from "https://threejs.org/examples/jsm/webxr/ARButton.js";
            var scene, camera, renderer, cube;

            init();
            animate();

            function init() {
                scene = new THREE.Scene();

                camera = new THREE.PerspectiveCamera(
                    70,
                    window.innerWidth / window.innerHeight,
                    0.01,
                    20
                );

                var geometry = new THREE.BoxGeometry(0.2, 0.2, 0.2);
                var material = new THREE.MeshNormalMaterial();
                cube = new THREE.Mesh(geometry, material);
                scene.add(cube);

                renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
                renderer.setPixelRatio(window.devicePixelRatio);
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.xr.enabled = true;
                document.body.appendChild(renderer.domElement);

                document.body.appendChild(
                    ARButton.createButton(renderer, {
                        requiredFeatures: ["hit-test"],
                    })
                );

                window.addEventListener("resize", onWindowResize, false);
            }

            function animate() {
                renderer.setAnimationLoop(function () {
                    cube.rotation.x += 0.01;
                    cube.rotation.y += 0.01;
                    renderer.render(scene, camera);
                });
            }

            function onWindowResize() {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            }
        </script>
    </body>
</html>
<html lang="en">
  <head>
    <title>Simple AR with Three.js and WebXR</title>
    <style>
      body {
        margin: 0;
      }
      canvas {
        display: block;
      }
    </style>
  </head>
  <body>
    <script type="module" crossorigin="anonymous" src="https://threejs.org/build/three.module.js"></script>
    <script type="module" crossorigin="anonymous" src="https://threejs.org/examples/jsm/webxr/ARButton.js"></script>
    <script type="module" crossorigin="anonymous">
      import * as THREE from "https://threejs.org/build/three.module.js";
      import { ARButton } from "https://threejs.org/examples/jsm/webxr/ARButton.js";
      var scene, camera, renderer, cube;

      init();
      animate();

      function init() {
        scene = new THREE.Scene();

        camera = new THREE.PerspectiveCamera(
          70,
          window.innerWidth / window.innerHeight,
          0.01,
          20
        );

        var geometry = new THREE.BoxGeometry(0.2, 0.2, 0.2);
        var material = new THREE.MeshNormalMaterial();
        cube = new THREE.Mesh(geometry, material);
        scene.add(cube);

        renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.xr.enabled = true;
        document.body.appendChild(renderer.domElement);

        document.body.appendChild(
          ARButton.createButton(renderer, {
            requiredFeatures: ["hit-test"],
          })
        );

        window.addEventListener("resize", onWindowResize, false);
      }

      function animate() {
        renderer.setAnimationLoop(function () {
          cube.rotation.x += 0.01;
          cube.rotation.y += 0.01;
          renderer.render(scene, camera);
        });
      }

      function onWindowResize() {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      }
    </script>
  </body>
</html>
